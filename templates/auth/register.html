{% extends "base.html" %}

{% block title %}Register - NexMed-Hub{% endblock %}

{% block extra_css %}
<style>
    body {
        overflow: hidden;
    }

    main {
        height: calc(100vh - 60px);
        overflow: hidden;
    }

    .footer {
        display: none;
    }
</style>
{% endblock %}

{% block content %}
<div
    style="height: calc(100vh - 60px); display: flex; align-items: center; justify-content: center; overflow: hidden; padding: 0.5rem;">
    <div class="card" style="max-width: 300px; width: 100%; margin: 0 auto;">
        <div class="card-header text-center" style="padding: 0.8rem 0.8rem 0.5rem;">
            <h2 class="card-title" style="font-size: 1.3rem; margin-bottom: 0.15rem;">Create Account</h2>
            <p style="color: var(--text-secondary); margin: 0; font-size: 0.75rem;">Join NexMed-Hub today</p>
        </div>
        <div class="card-body" style="padding: 0.8rem;">
            <form method="POST" action="{{ url_for('auth.register') }}" id="registerForm">
                <div class="form-group" style="margin-bottom: 0.6rem;">
                    <label for="username" class="form-label"
                        style="font-size: 0.8rem; margin-bottom: 0.2rem;">Username</label>
                    <input type="text" id="username" name="username" class="form-control"
                        style="padding: 0.5rem 0.7rem; font-size: 0.85rem;" placeholder="Choose a username" required>
                </div>

                <div class="form-group" style="margin-bottom: 0.6rem;">
                    <label for="email" class="form-label"
                        style="font-size: 0.8rem; margin-bottom: 0.2rem;">Email</label>
                    <input type="email" id="email" name="email" class="form-control"
                        style="padding: 0.5rem 0.7rem; font-size: 0.85rem;" placeholder="your.email@example.com"
                        required>
                    <div class="form-group" style="margin-bottom: 0.6rem;">
                        <label for="dob" class="form-label" style="font-size: 0.8rem; margin-bottom: 0.2rem;">Date of
                            Birth</label>
                        <input type="date" id="dob" name="dob" class="form-control"
                            style="padding: 0.5rem 0.7rem; font-size: 0.85rem;" required>
                    </div>

                    <div class="form-group" style="margin-bottom: 0.6rem;">
                        <label for="password" class="form-label"
                            style="font-size: 0.8rem; margin-bottom: 0.2rem;">Password</label>
                        <input type="password" id="password" name="password" class="form-control"
                            style="padding: 0.5rem 0.7rem; font-size: 0.85rem;" placeholder="At least 6 characters"
                            required minlength="6">
                    </div>

                    <div class="form-group" style="margin-bottom: 0.6rem;">
                        <label for="confirm_password" class="form-label"
                            style="font-size: 0.8rem; margin-bottom: 0.2rem;">Confirm Password</label>
                        <input type="password" id="confirm_password" name="confirm_password" class="form-control"
                            style="padding: 0.5rem 0.7rem; font-size: 0.85rem;" placeholder="Re-enter password"
                            required>
                    </div>

                    <button type="submit" class="btn btn-primary"
                        style="width: 100%; padding: 0.55rem; font-size: 0.85rem; margin-top: 0.2rem;">Create
                        Account</button>
            </form>

            <div style="text-align: center; margin-top: 0.7rem; color: var(--text-secondary); font-size: 0.75rem;">
                Already have an account? <a href="{{ url_for('auth.login') }}"
                    style="color: var(--primary-color); text-decoration: none; font-weight: 600;">Sign in</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    document.getElementById('registerForm').addEventListener('submit', function (e) {
        const password = document.getElementById('password').value;
        const confirmPassword = document.getElementById('confirm_password').value;

        if (password !== confirmPassword) {
            e.preventDefault();
            alert('Passwords do not match!');
        }
    });
</script>
{% endblock %}